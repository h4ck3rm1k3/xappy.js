\documentclass{beamer}
%packages
\usepackage[latin1]{inputenc}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[english]{babel}

\hypersetup{urlcolor=red,colorlinks}
\definecolor{bg}{rgb}{0.95,0.95,0.95}
\usetheme{Rochester}

\title{Sprint 2}
\author{xapi-team}
\institute{Institute for Computer Science, Free University Berlin}
\date{26.6.2011}
\begin{document}
\begin{frame}
\titlepage
\end{frame}


\begin{document}

\begin{frame}{Validator}

    \begin{block}{Validates}
        \begin{itemize}
            \item bbox out of range
            \item bbox: left and right or top and bottom are swapped
            \item tag predicate with child predicate no(tags)
            \item tag predicate with child predicate tags
            \item node object with child predicate attribute node
            \item way object with child predicate attribute way
            \item way object and child predicate attribute node
        \end{itemize}
    \end{block}

\end{frame}

\begin{frame}{xapi Request Object}

    \begin{block}{object}
        \begin{itemize}
            \item node
            \item way
            \item relation
            \item *
        \end{itemize}
    \end{block}

    \begin{block}{bbox*}
        \begin{itemize}
            \item left
            \item right
            \item top
            \item bottom
        \end{itemize}
    \end{block}

    \begin{block}{tag*}
        \begin{itemize}
            \item key
            \item value
        \end{itemize}
    \end{block}

     \begin{block}{child*}
        \begin{itemize}
            \item has
            \item attribute: 
                \begin{itemize}
                    \item node
                    \item way
                    \item relation
                    \item tag
                \end{itemize}
        \end{itemize}
    \end{block}


\end{frame}

\begin{frame}{Internal Data Structure}
    \begin{block}{Node}
    \end{block}
    \begin{block}{Way}
    \end{block}
    \begin{block}{Relation}
    \end{block}
\end{frame}

\frame{


\Large
XML Generator
\normalsize
\begin{itemize}
\item genxml(type, elem)
\item createHeader()
\item createFooter()
\end{itemize}

\textbf{The header}:\\
$<$ ?xml version = "1.0" standalone="no"?$>$ \\
$<$ osm \\
version = "0.6" \\
generator="xappy.js v0.2" \\
xapi:planetDate = "200803150826"\\
xapi:copyright = "2011 OpenStreetMap contributors"$>$\\
\dots\\
$</$osm$>$
}

\frame{
\Large
JSON Generator\\
\normalsize
\begin{itemize}
\item genjson(type, elem)
\item createHeader()
\item createFooter()
\end{itemize}

\textbf{The header}\\
\{\\
\hspace*{4mm}"version": 0.6,\\
\hspace*{4mm} "generator": "xappy.js v0.2",\\
\hspace*{4mm} "xapi":\{\\
\hspace*{8mm} "planetDate": 200803150826,\\
\hspace*{8mm} "copyright": "XXX"\\
\hspace*{4mm} \},\\

\hspace*{4mm}"elements": [\\
\hspace*{8mm}\dots\\
\hspace*{4mm}]\\
\}

}



\frame{
\Large{Coding Style}
\\

\normalsize
Combination of Google \& Crockford\\
Enforcement with the tool JSHint
}

\begin{frame}{Xappy.js Modules}
    This module contains glue code to stick various elements of the module to gether.

    Therefore various helpers are used for:

    \begin{itemize}
        \item Reading a config file
        \item Command line interface
        \item Loading all modules
        \item Configure a Callback for node.js
    \end{itemize}
\end{frame}

\begin{frame}{Validator}

    \begin{block}{Validates}
        \begin{itemize}
            \item bbox out of range
            \item bbox: left and right or top and bottom are swapped
            \item tag predicate with child predicate no(tags)
            \item tag predicate with child predicate tags
            \item node object with child predicate attribute node
            \item way object with child predicate attribute way
            \item way object and child predicate attribute node
        \end{itemize}
    \end{block}

\end{frame}


\begin{frame}{EventHandler}

    Nessecary because of async behaviour of node.

    \begin{itemize}
        \item callbacks must be registered for events
        \item pushes objects from DB
        \item events emitted befor first and last
    \end{itemize}

    The EventHandler is created by DB the module, callbacks are defined in xappy.js.

\end{frame}

\include{whosh}
\end{document}
